/**
 * Creating a sidebar enables you to:
 - create an ordered group of docs
 - render a sidebar for each doc of that group
 - provide next/previous navigation

 The sidebars can be generated from the filesystem, or explicitly defined here.

 Create as many sidebars as you want.
 */

// @ts-check

/** @type {import('@docusaurus/plugin-content-docs').SidebarsConfig[]} */
const janSidebar = require("./docs/api-reference/sidebar.js");

const janSideBarWithSignMessage = janSidebar.map((sidebar) => {
  if (sidebar.label === "Siwe") {
    return {
      ...sidebar,
      collapsed: false,
      items: [
        sidebar.items[0],
        {
          type: "doc",
          id: "api-reference/siwe-sign-message",
          label: "Sign Message",
          className: "api-method sign",
        },
        sidebar.items[1],
      ],
    };
  }

  if(sidebar.label){
    return {
      ...sidebar,
      collapsed: false,
    };
  }
  return {
    ...sidebar,
  };
});

const sidebars = {
  // By default, Docusaurus generates a sidebar from the docs folder structure
  openApiSidebar: [
    {
      type: "category",
      label: "JustaName",
      link: {
        type: "generated-index",
        title: "JustaName API",
        slug: "/api-reference",
      },
      collapsed: false,
      items: janSideBarWithSignMessage,
    },
  ],

  homeSidebar: [
    {
      type: 'autogenerated',
      dirName: 'home',
    },
  ],
  gettingStartedSidebar: [
    {
      type: 'autogenerated',
      dirName: 'getting-started',
    },
  ],
  sdkSidebar: [
    {
      type: 'autogenerated',
      dirName: 'sdk',
    },
  ]
};

module.exports = sidebars;
